<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Calculator</title>
	<style>
		body {
			display: flex;
			justify-content: center;
			align-items: center;
			height: 100vh;
			background-color: #f3f4f6;
			font-family: Arial, sans-serif;
		}

		.calculator {
			background: #ffffff;
			padding: 20px;
			border-radius: 20px;
			box-shadow: 0px 4px 15px rgba(0,0,0,0.2);
			width: 320px;
		}

		.display {
			width: 100%;
			height: 60px;
			background: #f9fafb;
			border: none;
			border-radius: 10px;
			font-size: 2rem;
			text-align: right;
			padding: 10px;
			margin-bottom: 15px;
			box-shadow: inset 0px 2px 4px rgba(0,0,0,0.1);
		}

		.buttons {
			display: grid;
			grid-template-columns: repeat(4, 1fr);
			gap: 10px;
		}

		button {
			padding: 20px;
			font-size: 1.2rem;
			border: none;
			border-radius: 10px;
			cursor: pointer;
			background: #e5e7eb;
			transition: background 0.2s;
		}

			button:hover {
				background: #d1d5db;
			}

		.operator {
			background: #60a5fa;
			color: white;
		}

			.operator:hover {
				background: #3b82f6;
			}

		.equals {
			background: #34d399;
			color: white;
			grid-column: span 2;
		}

			.equals:hover {
				background: #10b981;
			}
	</style>
</head>
<body>
	<div class="calculator">
		<input type="text" class="display" id="display" disabled>
		<div class="buttons">
			<button id="btn-7">7</button>
			<button id="btn-8">8</button>
			<button id="btn-9">9</button>
			<button id="btn-divide" class="operator">/</button>

			<button id="btn-4">4</button>
			<button id="btn-5">5</button>
			<button id="btn-6">6</button>
			<button id="btn-multiply" class="operator">*</button>

			<button id="btn-1">1</button>
			<button id="btn-2">2</button>
			<button id="btn-3">3</button>
			<button id="btn-minus" class="operator">-</button>

			<button id="btn-0">0</button>
			<button id="btn-dot">.</button>
			<button id="btn-equals" class="equals">=</button>
			<button id="btn-plus" class="operator">+</button>

			<button id="btn-clear" class="operator" style="grid-column: span 4;">C</button>
		</div>
	</div>

	<!-- ======== Your JavaScript Section ========= -->
	<script>
		// Example: handle button "1"
		//const Button = document.getElementById("x");
		//Button.addEventListener("click", function () {
			//display.value += "x";
		//});

		 const display = document.getElementById("display");
		 const oneButton = document.getElementById("btn-1");
		 const twoButton = document.getElementById("btn-2");
		 const threeButton = document.getElementById("btn-3");
		 const fourButton = document.getElementById("btn-4");
		 const fiveButton = document.getElementById("btn-5");
		 const sixButton = document.getElementById("btn-6");
		 const sevenButton = document.getElementById("btn-7");
		 const eightButton = document.getElementById("btn-8");
		 const nineButton = document.getElementById("btn-9");
		 const zeroButton = document.getElementById("btn-0");
		 const plusButton = document.getElementById("btn-plus");
		 const minusButton = document.getElementById("btn-minus");
		 const multiplyButton = document.getElementById("btn-multiply");
		 const divideButton = document.getElementById("btn-divide");
		 const clearButton = document.getElementById("btn-clear");
		 const dotButton = document.getElementById("btn-dot");
		 const equalsButton = document.getElementById("btn-equals");

		 //let firstNumber;
		 //let secondNumber;
		 //let latestNumber;
		 let operator;
		 let result;
		 let calculator = [];

		 let lastDisplayIsResult= false;
		 let IsresultAfterEqual = false;


		oneButton.addEventListener("click", function () {
			//clearDisplayIfLastDisplayIsResult();
			if (lastDisplayIsResult){
				display.value="";
				lastDisplayIsResult = false ;
			}
		 	display.value += "1";
		 });

		twoButton.addEventListener("click", function () {
			//clearDisplayIfLastDisplayIsResult();
			if (lastDisplayIsResult){
			display.value="";
			lastDisplayIsResult = false ;
			}
		 	display.value += "2";
		});

		threeButton.addEventListener("click", function () {
			//clearDisplayIfLastDisplayIsResult();
			if (lastDisplayIsResult){
			display.value="";
			lastDisplayIsResult = false ;
			}
			
			display.value += "3";
		});

		fourButton.addEventListener("click", function () {
			//clearDisplayIfLastDisplayIsResult();
			if (lastDisplayIsResult){
			display.value="";
			lastDisplayIsResult = false ;
			}
			display.value += "4";
		});

		fiveButton.addEventListener("click", function () {
			//clearDisplayIfLastDisplayIsResult();
			if (lastDisplayIsResult){
			display.value="";
			lastDisplayIsResult = false ;
			}
		 	display.value += "5";
		});

		sixButton.addEventListener("click", function () {
			//clearDisplayIfLastDisplayIsResult();
			if (lastDisplayIsResult){
			display.value="";
			lastDisplayIsResult = false ;
			}
			display.value += "6";
		});
		 sevenButton.addEventListener("click", function () {
			//clearDisplayIfLastDisplayIsResult();
			if (lastDisplayIsResult){
			display.value="";
			lastDisplayIsResult = false ;
			}
		 	display.value += "7";
		 });

		eightButton.addEventListener("click", function () {
			//clearDisplayIfLastDisplayIsResult();
			if (lastDisplayIsResult){
			display.value="";
			lastDisplayIsResult = false ;
			}
		 	display.value += "8";
		});

		nineButton.addEventListener("click", function(){
			//clearDisplayIfLastDisplayIsResult();
			if (lastDisplayIsResult){
			display.value="";
			lastDisplayIsResult = false ;
			}
		 	display.value += "9";
		})

		zeroButton.addEventListener("click", function(){
			if (lastDisplayIsResult){
			display.value="";
			lastDisplayIsResult = false ;
			}
			display.value += "0";
		})

		clearButton.addEventListener("click", function(){
		  display.value= "";
		  calculator =[];
		})

		dotButton.addEventListener("click", function(){
		 display.value+= "."; 
		 })

		plusButton.addEventListener("click", function(){

			if (IsresultAfterEqual){
				display.value= result;
				display.value= ""
				IsresultAfterEqual = false ;
				}
			else if  (lastDisplayIsResult){
				display.value="";
				lastDisplayIsResult = false ;
			}
			//else if (isNaN(Number(calculator[calculator.length-1] || (calculator[calculator.length-1]) === ""))){
			else{calculator.push(display.value);
			    display.value = ""
			}
			//else {
				//display.value = "syntax error";
				
			//}
			
		
			operator = "+";
				//if (lastDisplayIsResult){calculator.push(result);
				//calculator.push(operator);
				
				//}

				//calculator.push(display.value);


				//if (lastDisplayIsResult){
					//display.value="";
					//lastDisplayIsResult = false ;
				//}
				//else{calculator.push(operator)};
				
				//};
				//operator = "+";
				//display.value = "";

				// if (isNaN(Number(calculator[calculator.length-1]))) {
				// calculator.push(display.value);
				// calculator.push("+");
				// }
				// else
				// {
				// calculator.push("+");
				// calculator.push(display.value);
				// calculator.push("+");
				// }
				// display.value="";

			if (calculator.length >=3) {
				let firstOperand = Number(calculator[calculator.length-1]);
				let operator = calculator[calculator.length-2];
				let secondOperand = Number(calculator[calculator.length-3]);

				if (operator === "+") {
					display.value = firstOperand + secondOperand;
					result = display.value ;
					lastDisplayIsResult = true
					calculator = [result];
							
				}
				else if (operator === "-") {
					display.value = secondOperand - firstOperand;
					result = display.value ;
					lastDisplayIsResult = true
					calculator = [result];
				}
				else if (operator === "*"){
					display.value = firstOperand * secondOperand;
					result = display.value ;
					lastDisplayIsResult = true
					calculator = [result];
				}
				else if (operator === "/"){
					display.value = secondOperand / firstOperand;
					result = display.value ;
					lastDisplayIsResult = true
					calculator = [result];
				}
			}
			
			calculator.push(operator);
			
					//display.value= "" ;		
		});

		//function addResultIfLastDisplayIsResult( ){
			//if (lastDisplayIsResult){calculator.push(result);
				//calculator.push(operator);
				//}
			//}	

		//function clearDisplayIfLastDisplayIsResult() {
			//if (lastDisplayIsResult) {
				//calculator.push(result);
				//display.value  ="";
			//}
		//}
			  		


		minusButton.addEventListener("click", function(){
			if (IsresultAfterEqual){
				display.value= result;
				display.value= ""
				IsresultAfterEqual = false ;
				}
			else if  (lastDisplayIsResult){
				display.value="";
				lastDisplayIsResult = false ;
			}
			//else 
			 //(!isNaN(Number(calculator[calculator.length-1] || (calculator[calculator.length-1]) === ""))){
			else {calculator.push(display.value);
			    display.value = ""
			}
			//else {
				//display.value = "syntax error";
			//};
				operator = "-";
				if (calculator.length >=3) {
				let firstOperand = Number(calculator[calculator.length-1]);
				let operator = calculator[calculator.length-2];
				let secondOperand = Number(calculator[calculator.length-3]);

				if (operator === "+") {
					display.value = firstOperand + secondOperand;
					result = display.value ;
					lastDisplayIsResult = true;
					calculator = [result];
							
				}
				else if (operator === "-") {
					display.value = secondOperand - firstOperand;
					result = display.value ;
					lastDisplayIsResult = true;
					calculator = [result];
				}
				else if (operator === "*"){
					display.value = firstOperand * secondOperand;
					result = display.value ;
					lastDisplayIsResult = true;
					calculator = [result];
				}
				else if (operator === "/"){
					display.value = secondOperand / firstOperand;
					result = display.value ;
					lastDisplayIsResult = true;
					calculator = [result];
				}
			}
				calculator.push(operator);
				
		});

	
		multiplyButton.addEventListener("click", function(){
			if (IsresultAfterEqual){
				display.value= result;
				display.value= ""
				IsresultAfterEqual = false ;
				}
			else if  (lastDisplayIsResult){
				display.value="";
				lastDisplayIsResult = false ;
			}
			//else if (!isNaN(Number(calculator[calculator.length-1] || (calculator[calculator.length-1]) === ""))){
			else{
				calculator.push(display.value);
			    display.value = ""
			}
			//else {
				//display.value = "syntax error";
			//};
				operator = "*";
			
			if (calculator.length >=3) {
				let firstOperand = Number(calculator[calculator.length-1]);
				let operator = calculator[calculator.length-2];
				let secondOperand = Number(calculator[calculator.length-3]);

				if (operator === "+") {
					display.value = firstOperand + secondOperand;
					result = display.value ;
					lastDisplayIsResult = true;
					calculator = [result];
							
				}
				else if (operator === "-") {
					display.value = secondOperand - firstOperand;
					result = display.value ;
					lastDisplayIsResult = true;
					calculator = [result];
				}
				else if (operator === "*"){
					display.value = firstOperand * secondOperand;
					result = display.value ;
					lastDisplayIsResult=true;
					calculator = [result];
				}
				else if (operator === "/"){
					display.value = secondOperand / firstOperand;
					result = display.value ;
					lastDisplayIsResult=true;
					calculator = [result];
				}
			}
			
					
			    
				calculator.push(operator);	
		});

			
		divideButton.addEventListener("click", function(){
			if (IsresultAfterEqual){
				display.value= result;
				display.value= ""
				IsresultAfterEqual = false ;
				}
			else if  (lastDisplayIsResult){
				display.value="";
				lastDisplayIsResult = false ;
			}
			//else if (isNaN(Number(calculator[calculator.length-1] || (calculator[calculator.length-1]) === ""))){
			else{calculator.push(display.value);
			    display.value = ""
			}
			//else {
				//display.value = "syntax error";
			//};
			operator = "/";
			
			if (calculator.length >=3) {
				let firstOperand = Number(calculator[calculator.length-1]);
				let operator = calculator[calculator.length-2];
				let secondOperand = Number(calculator[calculator.length-3]);

				if (operator === "+") {
					display.value = firstOperand + secondOperand;
					result = display.value ;
					lastDisplayIsResult=true;
					calculator = [result];
							
				}
				else if (operator === "-") {
					display.value = secondOperand - firstOperand;
					result = display.value ;
					lastDisplayIsResult=true;
					calculator = [result];
				}
				else if (operator === "*"){
					display.value = firstOperand * secondOperand;
					result = display.value ;
					lastDisplayIsResult=true;
					calculator = [result];
				}
				else if (operator === "/"){
					display.value = secondOperand / firstOperand;
					result = display.value ;
					lastDisplayIsResult=true;
					calculator = [result];
				}
			}
			calculator.push(operator);		
		});
			
		equalsButton.addEventListener("click", function(){
	
			calculator.push(display.value);
			display.value = "";

			if (calculator.length >=3) {
				let firstOperand = Number(calculator[calculator.length-1]);
				let operator = calculator[calculator.length-2];
				let secondOperand = Number(calculator[calculator.length-3]);

				if (operator === "+") {
					display.value = firstOperand + secondOperand;
					result = display.value ;
					lastDisplayIsResult=true;
					calculator = [result];
					IsresultAfterEqual = true;
							
				}
				else if (operator === "-") {
					display.value = secondOperand - firstOperand;
					result = display.value ;
					lastDisplayIsResult=true;
					calculator = [result];
					IsresultAfterEqual = true;
				}
				else if (operator === "*"){
					display.value = firstOperand * secondOperand;
					result = display.value ;
					lastDisplayIsResult=true;
					calculator = [result];
					IsresultAfterEqual = true;
				}
				else if (operator === "/"){
					display.value = secondOperand / firstOperand;
					result = display.value ;
					lastDisplayIsResult=true;
					calculator = [result];
					IsresultAfterEqual = true;
				}
				
			}
		});
		
		

</script> 
</body>
</html>;